{"version":3,"sources":["src/query/hero.js","src/query/roles.js","src/query/abilities.js","src/constants.js","src/config.js","src/utils.js","src/index_card.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["heroQuery","id","JSON","stringify","query","rolesQuery","abilitiesQuery","PRIMARY_ATTR_LIST","str","int","agi","IMG_ONERROR","BASE_HEALTH","HP_UNIT","BOUNUS_HEALTH_REGENERATION","BASE_MANA","MP_UNIT","BOUNUS_MANA_REGENERATION","DAMAGE_TYPE","DOTA_UNIT_TARGET_TEAM","SPELL_IMMUNITY_LIST","STRATZ_TOKEN","STRATZ_API","STRATZ_HERO_URL","STRATZ_ABILITIE_URL","VIDEO_URL","getGraphqlData","fetch","method","body","headers","Authorization","response","json","data","formatText","string","splitChart","slicePlacement","split","slice","heroId","heroData","rolesData","abilitiesData","heroCardNode","document","getElementsByClassName","heroCardFrontNode","heroCards","heroPrimaryAttrNode","createElement","classList","add","appendChild","heroPrimaryAttrDom","style","display","heroAttackTypeNode","heroAttackTypeDom","heroBaseNode","heroAbilitiesListNode","heroVideoNode","heroVideoNodeFallbackImgNode","heroVideoSourceNode","complexityListNode","heroMpHpNode","heroHpDom","heroMpDom","heroNameNode","heroRolesNode","heroAttackNode","heroDefenseNode","heroMobilityNode","heroBaseAttackDom","heroAttackRateDom","heroAttackRangeDom","heroTurnRateDom","heroMoveSpeedDom","heroVisionDom","heroArmorDom","heroMagicResistDom","heroAbilitiesTalentNode","heroScepterShardNode","setAttribute","append","heroTalentNode","heroTalentTooltipNode","heroAbilityTooltipNode","heroScepterShardTooltipNode","main","init","heroCard","addEventListener","e","transform","target","getAttribute","constants","hero","abilities","stats","shortName","language","roles","talents","primaryAttribute","agilityBase","agilityGain","intelligenceBase","intelligenceGain","strengthBase","strengthGain","attackType","complexity","hpBarOffset","mpRegen","moveSpeed","moveTurnRate","startingMagicArmor","startingArmor","attackRate","attackRange","startingDamageMin","startingDamageMax","visionNighttimeRange","visionDaytimeRange","updateHero","setHeroBase","setHeroPrimaryAttribute","setHeroAttackType","setHeroAbilities","setHeroVideo","setHeroComplexity","setHeroHPMP","setHeroName","displayName","setHeroRoles","setHeroBasic","setHeroTalents","setHeroAbilityHover","setHeroScepterShard","innerHTML","role","heroRolesDom","hp","hpGen","toFixed","mp","mpGen","i","complexityImgDom","heroBaseStrGainDom","heroBaseIntGainDom","heroBaseAgiGainDom","toLowerCase","baseAttack","vision","filter","ability","onlyNoramlAbilities","abilitiesIsGrantedByScepter","abilitiesIsGrantedByShard","shardDescription","heroAbilityDom","reverse","talent","heroTalentsDom","heroTalentData","find","heroTalent","dynamicModalPostion","heroAbilitiesList","heroAbility","abilityTooltipTem","abilityName","name","attributes","stat","cooldown","manaCost","unitDamageType","dispellable","unitTargetTeam","spellImmunity","description","imgData","abilityHTML","abilityScepterShardCommonContent","mcData","join","cdData","attribData","attr","value","nameData","replaceAll","toUpperCase","valueData","damTypeText","dispellableHTML","dmgTypeHTML","unitTargetTeamHTML","spellImmunityText","spellImmunityHTML","heroScepterShard","aghanimDescription","scepterShardTooltipTem","isScepterOrShard","hasScepterUpgrade","isGrantedByShard","isScepterUpgradeHTML","upgradeOrNewText","pushEl","t","className","offsetTop","offsetLeft","offsetHeight","offsetWidth","width","height","modalNodeClas","modalNodeDisplayValue","arr","mouseTargetWidth","mouseTargetHeight","windowScrollY","window","scrollY","windowScrollX","scrollX","push","offsetParent","tooltipXOffsetLeftTotal","reduce","total","cur","tooltipYOffsetTopTotal","tooltipX","tooltipY","modalNode","tooltipHeight","tooltipWidth","innerWidth","innerHeight","left","top","console","log","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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AezE,sBAAW,QAAI;MACnEyJ,cAAc,CAAChF,YAAY,CACzB,KAAK,YACF5D,2BAAmB,cAAIuI,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,UACrD;MACDK,cAAc,CAAChF,YAAY,CAAC,cAAc,EAAE2E,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;MACvE;MACAK,cAAc,CAAChH,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;MAC5C,IAAI0G,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE;QAC5CK,cAAc,CAAChH,SAAS,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACzD;MACAQ,qBAAqB,CAACP,WAAW,CAAC8G,cAAc,CAAC;IACnD;IACA;EAAA;IAAA;EAAA;IAAA;EAAA;EACAjF,oBAAoB,CAACC,YAAY,CAC/B,KAAK,8BACgB,CAAC,CAAC6E,2BAA2B,GAAG,CAAC,GAAG,CAAC,sBACxD,CAAC,CAACC,yBAAyB,GAAG,CAAC,GAAG,CAAC,UAEtC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"index_card.526640ff.js","sourceRoot":"..","sourcesContent":["export const heroQuery = (id) => {\r\n  return JSON.stringify({\r\n    query: `{\r\n     constants {\r\n       hero(id: ${id}) {\r\n         id\r\n         name\r\n         displayName\r\n         shortName\r\n         aliases\r\n         gameVersionId\r\n         language {\r\n           displayName\r\n           lore\r\n           hype\r\n         }\r\n         abilities {\r\n           slot\r\n           gameVersionId\r\n           abilityId\r\n           ability {\r\n             id\r\n             name\r\n             uri\r\n             language {\r\n               displayName\r\n               description\r\n               attributes\r\n               lore\r\n               aghanimDescription\r\n               shardDescription\r\n               notes\r\n             }\r\n             stat {\r\n               abilityId\r\n               type\r\n               behavior\r\n               unitTargetType\r\n               unitTargetTeam\r\n               unitTargetFlags\r\n               unitDamageType\r\n               spellImmunity\r\n               modifierSupportValue\r\n               modifierSupportBonus\r\n               isOnCastbar\r\n               isOnLearnbar\r\n               fightRecapLevel\r\n               isGrantedByScepter\r\n               hasScepterUpgrade\r\n               maxLevel\r\n               levelsBetweenUpgrades\r\n               requiredLevel\r\n               hotKeyOverride\r\n               displayAdditionalHeroes\r\n               castRange\r\n               castRangeBuffer\r\n               castPoint\r\n               channelTime\r\n               cooldown\r\n               damage\r\n               manaCost\r\n               isUltimate\r\n               duration\r\n               charges\r\n               chargeRestoreTime\r\n               isGrantedByShard\r\n               dispellable\r\n             }\r\n             attributes {\r\n               name\r\n               value\r\n               linkedSpecialBonusAbilityId\r\n               requiresScepter\r\n             }\r\n             isTalent\r\n           }\r\n         }\r\n         roles {\r\n           roleId\r\n           level\r\n         }\r\n         talents {\r\n           abilityId\r\n           slot\r\n         }\r\n         stats {\r\n           enabled\r\n           heroUnlockOrder\r\n           team\r\n           cMEnabled\r\n           newPlayerEnabled\r\n           attackType\r\n           startingArmor\r\n           startingMagicArmor\r\n           startingDamageMin\r\n           startingDamageMax\r\n           attackRate\r\n           attackAnimationPoint\r\n           attackAcquisitionRange\r\n           attackRange\r\n           primaryAttribute\r\n           strengthBase\r\n           strengthGain\r\n           intelligenceBase\r\n           intelligenceGain\r\n           agilityBase\r\n           agilityGain\r\n           mpRegen\r\n           moveSpeed\r\n           moveTurnRate\r\n           hpBarOffset\r\n           visionDaytimeRange\r\n           visionNighttimeRange\r\n           complexity\r\n         }\r\n       }\r\n     }\r\n   }\r\n   `\r\n  });\r\n};\r\n","export const rolesQuery = () => {\r\n  return JSON.stringify({\r\n    query: `{\r\n      constants {\r\n        roles {\r\n          roleId\r\n          name\r\n          langKey\r\n        } \r\n      }\r\n    }\r\n    `\r\n  });\r\n};\r\n","export const abilitiesQuery = () => {\r\n  return JSON.stringify({\r\n    query: `{\r\n      constants {\r\n        abilities {\r\n          id,\r\n          language {\r\n            displayName\r\n          },\r\n        }\r\n    \r\n      }\r\n    }\r\n`\r\n  });\r\n};\r\n","export const PRIMARY_ATTR_LIST = {\r\n  str: \"hero_strength\",\r\n  int: \"hero_intelligence\",\r\n  agi: \"hero_agility\",\r\n};\r\n\r\nexport const IMG_ONERROR = \"./images/Dota2Logo.svg\";\r\n\r\nexport const BASE_HEALTH = 200;\r\nexport const HP_UNIT = 20;\r\nexport const BOUNUS_HEALTH_REGENERATION = 0.1;\r\n\r\nexport const BASE_MANA = 75;\r\nexport const MP_UNIT = 12;\r\nexport const BOUNUS_MANA_REGENERATION = 0.05;\r\n\r\n// map damage type\r\nexport const DAMAGE_TYPE = {\r\n  0: \"DAMAGE_TYPE_NONE\",\r\n  1: \"DAMAGE_TYPE_PHYSICAL\",\r\n  2: \"DAMAGE_TYPE_MAGICAL\",\r\n  4: \"DAMAGE_TYPE_PURE\",\r\n  7: \"DAMAGE_TYPE_ALL\",\r\n  8: \"DAMAGE_TYPE_HP_REMOVAL\",\r\n};\r\n\r\nexport const DOTA_UNIT_TARGET_TEAM = {\r\n  0: \"DOTA_UNIT_TARGET_TEAM_NONE\",\r\n  1: \"DOTA_UNIT_TARGET_TEAM_FRIENDLY\",\r\n  2: \"DOTA_UNIT_TARGET_TEAM_ENEMY\",\r\n  3: \"DOTA_UNIT_TARGET_TEAM_BOTH\",\r\n  4: \"DOTA_UNIT_TARGET_TEAM_CUSTOM\",\r\n};\r\n\r\nexport const SPELL_IMMUNITY_LIST = {\r\n  1: \"Yes\",\r\n  3: \"Yes\",\r\n  4: \"No\",\r\n};\r\n","// here we will store STRATZ token, api url, and hero url\r\n\r\nexport const STRATZ_TOKEN = process.env.STRATZ_TOKEN;\r\nexport const STRATZ_API = \"https://api.stratz.com/graphql\";\r\nexport const STRATZ_HERO_URL = \"https://cdn.stratz.com/images/dota2/heroes\";\r\nexport const STRATZ_ABILITIE_URL =\r\n  \"https://cdn.stratz.com/images/dota2/abilities\";\r\nexport const VIDEO_URL =\r\n  \"https://cdn.cloudflare.steamstatic.com/apps/dota2/videos/dota_react/heroes/renders/\";\r\n","import { STRATZ_TOKEN, STRATZ_API } from \"./config.js\";\r\n\r\nexport // graphql fun\r\nconst getGraphqlData = async (query) => {\r\n  let response = await fetch(STRATZ_API, {\r\n    method: \"post\",\r\n    body: query,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${STRATZ_TOKEN}`,\r\n    },\r\n  });\r\n  let data = await response.json();\r\n  return data;\r\n};\r\n\r\nexport const formatText = (string, splitChart, slicePlacement) => {\r\n  return string.split(splitChart).slice(slicePlacement);\r\n};\r\n","import { heroQuery } from \"./query/hero.js\";\r\nimport { rolesQuery } from \"./query/roles.js\";\r\nimport { abilitiesQuery } from \"./query/abilities.js\";\r\n\r\n// constants\r\nimport {\r\n  PRIMARY_ATTR_LIST,\r\n  IMG_ONERROR,\r\n  BASE_HEALTH,\r\n  HP_UNIT,\r\n  BOUNUS_HEALTH_REGENERATION,\r\n  BASE_MANA,\r\n  MP_UNIT,\r\n  BOUNUS_MANA_REGENERATION,\r\n  DAMAGE_TYPE,\r\n  DOTA_UNIT_TARGET_TEAM,\r\n  SPELL_IMMUNITY_LIST,\r\n} from \"./constants.js\";\r\n\r\nimport { STRATZ_ABILITIE_URL, VIDEO_URL } from \"./config.js\";\r\n\r\n// pipe\r\nimport { getGraphqlData, formatText } from \"./utils.js\";\r\n\r\n// init state\r\nlet heroId = 1;\r\nlet heroData;\r\nlet rolesData;\r\nlet abilitiesData;\r\n\r\n// Dom list\r\nconst heroCardNode = document.getElementsByClassName(\"hero-card\")[0];\r\nconst heroCardFrontNode = document.getElementsByClassName(\"hero-card-front\")[0];\r\nconst heroCards = document.getElementsByClassName(\"heroes-card\");\r\n\r\n// hero primary att\r\nconst heroPrimaryAttrNode = document.createElement(\"div\");\r\nheroPrimaryAttrNode.classList.add(\"hero-primary_attr\");\r\nheroCardFrontNode.appendChild(heroPrimaryAttrNode);\r\nconst heroPrimaryAttrDom = document.createElement(\"img\");\r\nheroPrimaryAttrNode.appendChild(heroPrimaryAttrDom);\r\n// before the card flip, won't show the node\r\nheroPrimaryAttrNode.style.display = \"none\";\r\n\r\n// hero attack type\r\n// it's similar with primary att show right top corner\r\nconst heroAttackTypeNode = document.createElement(\"div\");\r\nheroAttackTypeNode.classList.add(\"hero-attack_type\");\r\nheroCardFrontNode.appendChild(heroAttackTypeNode);\r\nconst heroAttackTypeDom = document.createElement(\"img\");\r\nheroAttackTypeNode.appendChild(heroAttackTypeDom);\r\n// before the card flip, won't show the node\r\nheroAttackTypeNode.style.display = \"none\";\r\n\r\n// for base str, agi, int\r\nconst heroBaseNode = document.getElementsByClassName(\"hero-base\")[0];\r\n\r\n// hero abilities\r\nconst heroAbilitiesListNode = document.getElementsByClassName(\r\n  \"hero-abilities-list\"\r\n)[0];\r\n\r\n// hero video/image\r\nconst heroVideoNode = heroCardFrontNode.getElementsByClassName(\"hero-video\")[0];\r\n// hero video fallback img\r\nconst heroVideoNodeFallbackImgNode = document.createElement(\"img\");\r\nheroVideoNode.appendChild(heroVideoNodeFallbackImgNode);\r\nconst heroVideoSourceNode = document.createElement(\"source\");\r\nheroVideoNode.appendChild(heroVideoSourceNode);\r\n\r\n// hero complexity for card\r\nconst complexityListNode = document.createElement(\"div\");\r\ncomplexityListNode.classList.add(\"complexity-list\");\r\nheroCardFrontNode.appendChild(complexityListNode);\r\n\r\n// hero mp hp\r\nconst heroMpHpNode = heroCardFrontNode.getElementsByClassName(\"hero-mp-hp\")[0];\r\nconst heroHpDom = document.createElement(\"span\");\r\nheroHpDom.classList.add(\"hero-hp\");\r\nheroMpHpNode.appendChild(heroHpDom);\r\nconst heroMpDom = document.createElement(\"span\");\r\nheroMpDom.classList.add(\"hero-mp\");\r\nheroMpHpNode.appendChild(heroMpDom);\r\n\r\n// hero name\r\nconst heroNameNode = heroCardFrontNode.getElementsByClassName(\"hero-name\")[0];\r\n\r\n// hero roles\r\nconst heroRolesNode = heroCardFrontNode.getElementsByClassName(\"hero-roles\")[0];\r\n\r\n// hero info\r\nconst heroAttackNode =\r\n  heroCardFrontNode.getElementsByClassName(\"hero-attack\")[0];\r\nconst heroDefenseNode =\r\n  heroCardFrontNode.getElementsByClassName(\"hero-defense\")[0];\r\nconst heroMobilityNode =\r\n  heroCardFrontNode.getElementsByClassName(\"hero-mobility\")[0];\r\n\r\n// base_attack\r\nconst heroBaseAttackDom = document.createElement(\"span\");\r\nheroBaseAttackDom.classList.add(\"hero-base_attack\");\r\nheroAttackNode.appendChild(heroBaseAttackDom);\r\n\r\n// attack_rate\r\nconst heroAttackRateDom = document.createElement(\"span\");\r\nheroAttackRateDom.classList.add(\"hero-attack_rate\");\r\nheroAttackNode.appendChild(heroAttackRateDom);\r\n\r\n// attack_range\r\nconst heroAttackRangeDom = document.createElement(\"span\");\r\nheroAttackRangeDom.classList.add(\"hero-attack_range\");\r\nheroAttackNode.appendChild(heroAttackRangeDom);\r\n\r\n// trun_rate\r\nconst heroTurnRateDom = document.createElement(\"span\");\r\nheroTurnRateDom.classList.add(\"hero-turn_rate\");\r\nheroMobilityNode.appendChild(heroTurnRateDom);\r\n\r\n// move_speed\r\nconst heroMoveSpeedDom = document.createElement(\"span\");\r\nheroMoveSpeedDom.classList.add(\"hero-move_speed\");\r\nheroMobilityNode.appendChild(heroMoveSpeedDom);\r\n\r\n// vision\r\nconst heroVisionDom = document.createElement(\"span\");\r\nheroVisionDom.classList.add(\"hero-vision\");\r\nheroMobilityNode.appendChild(heroVisionDom);\r\n\r\n// hero armor\r\nconst heroArmorDom = document.createElement(\"span\");\r\nheroArmorDom.classList.add(\"hero-armor\");\r\nheroDefenseNode.appendChild(heroArmorDom);\r\n\r\n// hero magic resist\r\nconst heroMagicResistDom = document.createElement(\"span\");\r\nheroMagicResistDom.classList.add(\"hero-magic_resist\");\r\nheroDefenseNode.appendChild(heroMagicResistDom);\r\n\r\n// part3\r\nconst heroAbilitiesTalentNode = heroCardFrontNode.getElementsByClassName(\r\n  \"hero-abilities-talent\"\r\n)[0];\r\nconst heroScepterShardNode = document.createElement(\"img\");\r\nheroScepterShardNode.classList.add(\"hero-scepter-shard\");\r\nheroScepterShardNode.setAttribute(\"src\", \"/src/images/aghs_scepter.png\");\r\nheroScepterShardNode.setAttribute(\"alt\", \"Dota2 scepter Shard\");\r\nheroAbilitiesTalentNode.append(heroScepterShardNode);\r\n\r\n// talent tooltip\r\n\r\nconst heroTalentNode =\r\n  heroCardFrontNode.getElementsByClassName(\"hero-talent\")[0];\r\nconst heroTalentTooltipNode =\r\n  document.getElementsByClassName(\"talent-tooltip\")[0];\r\n\r\n// default tooltip should not display\r\nheroTalentTooltipNode.style.display = \"none\";\r\n\r\nconst heroAbilityTooltipNode =\r\n  document.getElementsByClassName(\"ability-tooltip\")[0];\r\n\r\nheroAbilityTooltipNode.style.display = \"none\";\r\n\r\nconst heroScepterShardTooltipNode = document.getElementsByClassName(\r\n  \"scepter-shard-tooltip\"\r\n)[0];\r\n\r\nheroScepterShardTooltipNode.style.display = \"none\";\r\n// main()\r\n\r\nconst main = async () => {\r\n  await init(heroId);\r\n\r\n  // after click hero image should update the card\r\n  for (let heroCard of heroCards) {\r\n    heroCard.addEventListener(\"click\", async (e) => {\r\n      // first reset something\r\n      heroVideoNode.setAttribute(\"src\", \"./src/images/Dota2Logo.svg\");\r\n      heroVideoNode.setAttribute(\"poster\", \"./src/images/Dota2Logo.svg\");\r\n      heroVideoSourceNode.setAttribute(\"src\", \"./src/images/Dota2Logo.svg\");\r\n      heroVideoNodeFallbackImgNode.setAttribute(\r\n        \"src\",\r\n        \"./src/images/Dota2Logo.svg\"\r\n      );\r\n      // flip the card to back first\r\n      heroCardNode.style.transform = \"rotateY(0deg)\";\r\n\r\n      heroPrimaryAttrNode.style.display = \"none\";\r\n      heroAttackTypeNode.style.display = \"none\";\r\n      heroId = e.target.getAttribute(\"data-hero-id\");\r\n      init(heroId);\r\n    });\r\n  }\r\n};\r\n\r\nmain();\r\n\r\nasync function init(heroId) {\r\n  heroData = await getGraphqlData(heroQuery(heroId));\r\n  rolesData = await getGraphqlData(rolesQuery());\r\n  abilitiesData = await getGraphqlData(abilitiesQuery());\r\n\r\n  // previous, we have a flip animation style for front and back card\r\n  if (heroData && rolesData) {\r\n    heroCardNode.style.transform = \"rotateY(180deg)\";\r\n\r\n    heroPrimaryAttrNode.style.display = \"flex\";\r\n    heroAttackTypeNode.style.display = \"flex\";\r\n  }\r\n\r\n  const { abilities, stats, shortName, language, roles, talents } =\r\n    heroData.data.constants.hero;\r\n\r\n  const {\r\n    primaryAttribute,\r\n    agilityBase,\r\n    agilityGain,\r\n    intelligenceBase,\r\n    intelligenceGain,\r\n    strengthBase,\r\n    strengthGain,\r\n    attackType,\r\n    complexity,\r\n    hpBarOffset,\r\n    mpRegen,\r\n    moveSpeed,\r\n    moveTurnRate,\r\n    startingMagicArmor,\r\n    startingArmor,\r\n    attackRate,\r\n    attackRange,\r\n    startingDamageMin,\r\n    startingDamageMax,\r\n    visionNighttimeRange,\r\n    visionDaytimeRange,\r\n  } = stats;\r\n\r\n  updateHero(\r\n    primaryAttribute,\r\n    agilityBase,\r\n    agilityGain,\r\n    intelligenceBase,\r\n    intelligenceGain,\r\n    strengthBase,\r\n    strengthGain,\r\n    attackType,\r\n    abilities,\r\n    shortName,\r\n    complexity,\r\n    hpBarOffset,\r\n    mpRegen,\r\n    language,\r\n    roles,\r\n    rolesData,\r\n    moveSpeed,\r\n    moveTurnRate,\r\n    startingMagicArmor,\r\n    startingArmor,\r\n    attackRate,\r\n    attackRange,\r\n    startingDamageMin,\r\n    startingDamageMax,\r\n    visionNighttimeRange,\r\n    visionDaytimeRange,\r\n    talents,\r\n    abilitiesData\r\n  );\r\n}\r\n\r\nfunction updateHero(\r\n  primaryAttribute,\r\n  agilityBase,\r\n  agilityGain,\r\n  intelligenceBase,\r\n  intelligenceGain,\r\n  strengthBase,\r\n  strengthGain,\r\n  attackType,\r\n  abilities,\r\n  shortName,\r\n  complexity,\r\n  hpBarOffset,\r\n  mpRegen,\r\n  language,\r\n  roles,\r\n  rolesData,\r\n  moveSpeed,\r\n  moveTurnRate,\r\n  startingMagicArmor,\r\n  startingArmor,\r\n  attackRate,\r\n  attackRange,\r\n  startingDamageMin,\r\n  startingDamageMax,\r\n  visionNighttimeRange,\r\n  visionDaytimeRange,\r\n  talents,\r\n  abilitiesData\r\n) {\r\n  setHeroBase(\r\n    primaryAttribute,\r\n    agilityBase,\r\n    agilityGain,\r\n    intelligenceBase,\r\n    intelligenceGain,\r\n    strengthBase,\r\n    strengthGain\r\n  );\r\n  setHeroPrimaryAttribute(primaryAttribute);\r\n  setHeroAttackType(attackType);\r\n  setHeroAbilities(abilities);\r\n  setHeroVideo(shortName);\r\n  setHeroComplexity(complexity);\r\n  setHeroHPMP(strengthBase, hpBarOffset, intelligenceBase, mpRegen);\r\n  setHeroName(language.displayName);\r\n  setHeroRoles(roles, rolesData.data.constants.roles);\r\n  setHeroBasic(\r\n    moveSpeed,\r\n    moveTurnRate,\r\n    startingMagicArmor,\r\n    startingArmor,\r\n    attackRate,\r\n    attackRange,\r\n    startingDamageMin,\r\n    startingDamageMax,\r\n    visionNighttimeRange,\r\n    visionDaytimeRange\r\n  );\r\n  setHeroTalents(talents, abilitiesData.data.constants.abilities);\r\n  setHeroAbilityHover(abilities);\r\n  setHeroScepterShard(abilities);\r\n}\r\n\r\n/**\r\n * Set hero video/image\r\n * @param {string} shortName - Hero shortName for video\r\n */\r\nfunction setHeroVideo(shortName) {\r\n  // video poster\r\n  heroVideoNode.setAttribute(\"src\", VIDEO_URL + shortName + \".webm\");\r\n  heroVideoNode.setAttribute(\"poster\", VIDEO_URL + shortName + \".png\");\r\n  heroVideoNodeFallbackImgNode.setAttribute(\r\n    \"src\",\r\n    VIDEO_URL + shortName + \".png\"\r\n  );\r\n  heroVideoSourceNode.setAttribute(\"src\", VIDEO_URL + shortName + \".webm\");\r\n  heroVideoSourceNode.setAttribute(\"type\", \"video/webm\");\r\n}\r\n\r\n/**\r\n * Set hero name\r\n * @param {string} displayName - Hero display name base on the language\r\n */\r\nfunction setHeroName(displayName) {\r\n  heroNameNode.innerHTML = displayName;\r\n}\r\n\r\n/**\r\n * Set hero roles\r\n * @param {array} roles - List hero roles\r\n * @param {array} rolesData - List all roles\r\n */\r\nfunction setHeroRoles(roles, rolesData) {\r\n  heroRolesNode.innerHTML = \"\";\r\n\r\n  for (let role of roles) {\r\n    const heroRolesDom = document.createElement(\"span\");\r\n    heroRolesDom.classList.add(\"hero-roles\");\r\n    heroRolesDom.innerHTML = role[\"roleId\"] + \",\";\r\n    heroRolesNode.appendChild(heroRolesDom);\r\n  }\r\n}\r\n\r\n/**\r\n * Set hero hp mp\r\n * @param {number} strengthBase - Hero base strength\r\n * @param {number} hpBarOffset - Hero hp offset\r\n * @param {number} intelligenceBase - Hero base intelligence\r\n * @param {number} mpRegen - Hero mana regen\r\n */\r\nfunction setHeroHPMP(strengthBase, hpBarOffset, intelligenceBase, mpRegen) {\r\n  // Hero hp and hp regenration have some fomular\r\n  // https://dota2.fandom.com/wiki/Health\r\n  const hp = BASE_HEALTH + strengthBase * HP_UNIT;\r\n  const hpGen = (\r\n    hpBarOffset +\r\n    strengthBase * BOUNUS_HEALTH_REGENERATION\r\n  ).toFixed(2);\r\n\r\n  // https://dota2.fandom.com/wiki/Mana\r\n  const mp = BASE_MANA + intelligenceBase * MP_UNIT;\r\n  const mpGen = (mpRegen + intelligenceBase * BOUNUS_MANA_REGENERATION).toFixed(\r\n    2\r\n  );\r\n\r\n  heroHpDom.innerHTML = hp + \" / +\" + hpGen;\r\n  heroMpDom.innerHTML = mp + \" / +\" + mpGen;\r\n}\r\n\r\n/**\r\n * Set hero complexity at top right corner\r\n * @param {number} complexity - Hero complexity: 1, 2,3\r\n */\r\nfunction setHeroComplexity(complexity) {\r\n  complexityListNode.innerHTML = \"\";\r\n\r\n  for (let i = 1; i <= complexity; i++) {\r\n    const complexityImgDom = document.createElement(\"span\");\r\n    complexityImgDom.classList.add(\"hero-complexity-num\");\r\n    complexityListNode.appendChild(complexityImgDom);\r\n  }\r\n}\r\n\r\n/**\r\n * Set hero base attribute\r\n * @param {string} primaryAttribute - Hero primary attribute\r\n * @param {number} agilityBase - Hero base agility\r\n * @param {number} agilityGain - Hero agility gain\r\n * @param {number} intelligenceBase - Hero base intelligence\r\n * @param {number} intelligenceGain - Hero intelligence gain\r\n * @param {number} strengthBase - Hero base strength\r\n * @param {number} strengthGain - Hero strength gain\r\n */\r\nfunction setHeroBase(\r\n  primaryAttribute,\r\n  agilityBase,\r\n  agilityGain,\r\n  intelligenceBase,\r\n  intelligenceGain,\r\n  strengthBase,\r\n  strengthGain\r\n) {\r\n  heroBaseNode.innerHTML = \"\";\r\n  // hero base\r\n  const heroBaseStrGainDom = document.createElement(\"div\");\r\n  heroBaseStrGainDom.classList = [\"hero-base-str-gain\"];\r\n\r\n  const heroBaseIntGainDom = document.createElement(\"div\");\r\n  heroBaseIntGainDom.classList = [\"hero-base-int-gain\"];\r\n\r\n  const heroBaseAgiGainDom = document.createElement(\"div\");\r\n  heroBaseAgiGainDom.classList = [\"hero-base-agi-gain\"];\r\n\r\n  heroBaseStrGainDom.innerHTML = `${strengthBase} <span>+${strengthGain.toFixed(\r\n    2\r\n  )}</span>`;\r\n  heroBaseIntGainDom.innerHTML = `${intelligenceBase} <span>+${intelligenceGain.toFixed(\r\n    2\r\n  )}</span>`;\r\n  heroBaseAgiGainDom.innerHTML = `${agilityBase} <span>+${agilityGain.toFixed(\r\n    2\r\n  )}</span>`;\r\n\r\n  // here different primary attr hero, the first attr will be his primary attr\r\n  if (primaryAttribute === \"str\") {\r\n    heroBaseStrGainDom.classList.add(\"primary-att\");\r\n    heroBaseNode.appendChild(heroBaseStrGainDom);\r\n    heroBaseNode.appendChild(heroBaseIntGainDom);\r\n    heroBaseNode.appendChild(heroBaseAgiGainDom);\r\n  } else if (primaryAttribute === \"int\") {\r\n    heroBaseIntGainDom.classList.add(\"primary-att\");\r\n    heroBaseNode.appendChild(heroBaseIntGainDom);\r\n    heroBaseNode.appendChild(heroBaseAgiGainDom);\r\n    heroBaseNode.appendChild(heroBaseStrGainDom);\r\n  } else if (primaryAttribute === \"agi\") {\r\n    heroBaseAgiGainDom.classList.add(\"primary-att\");\r\n    heroBaseNode.appendChild(heroBaseAgiGainDom);\r\n    heroBaseNode.appendChild(heroBaseStrGainDom);\r\n    heroBaseNode.appendChild(heroBaseIntGainDom);\r\n  }\r\n}\r\n\r\n/**\r\n * Set hero primary attribute image\r\n * @param {string} primaryAttribute - Hero primary attribute\r\n */\r\nfunction setHeroPrimaryAttribute(primaryAttribute) {\r\n  heroPrimaryAttrDom.setAttribute(\r\n    \"src\",\r\n    `../images/${PRIMARY_ATTR_LIST[primaryAttribute]}.png`\r\n  );\r\n}\r\n\r\n/**\r\n * Set hero attack type image\r\n * @param {string} attackType - Hero attack type\r\n */\r\nfunction setHeroAttackType(attackType) {\r\n  heroAttackTypeDom.setAttribute(\r\n    \"src\",\r\n    `./images/${attackType.toLowerCase()}.svg`\r\n  );\r\n}\r\n\r\n/**\r\n * Set hero basic info\r\n * @param {number} moveSpeed - Hero move Speed\r\n * @param {number} moveTurnRate - Hero turn rate\r\n * @param {number} startingMagicArmor - Hero magic resist\r\n * @param {number} startingArmor  - Hero armor\r\n * @param {number} attackRate - Hero attack rate\r\n * @param {number} attackRange - Hero attack range\r\n * @param {number} startingDamageMin - Hero min damage\r\n * @param {number} startingDamageMax - Hero max damage\r\n * @param {number} visionNighttimeRange - Hero night time vision range\r\n * @param {number} visionDaytimeRange - Hero day time vision range\r\n */\r\nfunction setHeroBasic(\r\n  moveSpeed,\r\n  moveTurnRate,\r\n  startingMagicArmor,\r\n  startingArmor,\r\n  attackRate,\r\n  attackRange,\r\n  startingDamageMin,\r\n  startingDamageMax,\r\n  visionNighttimeRange,\r\n  visionDaytimeRange\r\n) {\r\n  // attack\r\n  const baseAttack = `${startingDamageMin} - ${startingDamageMax}`;\r\n  // vision\r\n  const vision = `${visionNighttimeRange} - ${visionDaytimeRange}`;\r\n\r\n  // attack\r\n  heroBaseAttackDom.innerHTML = baseAttack;\r\n  heroAttackRateDom.innerHTML = attackRate.toFixed(2);\r\n  heroAttackRangeDom.innerHTML = attackRange;\r\n\r\n  // defense\r\n  heroArmorDom.innerHTML = startingArmor.toFixed(2);\r\n  heroMagicResistDom.innerHTML = startingMagicArmor + \"%\";\r\n\r\n  // mobility\r\n  heroTurnRateDom.innerHTML = moveTurnRate.toFixed(2);\r\n  heroMoveSpeedDom.innerHTML = moveSpeed;\r\n  heroVisionDom.innerHTML = vision;\r\n}\r\n\r\n/**\r\n * Set hero abilities\r\n * @param {array} abilities - hero abilities\r\n */\r\nfunction setHeroAbilities(abilities) {\r\n  heroAbilitiesListNode.innerHTML = \"\";\r\n  // we need filter those generic_hidden abilities that are useless\r\n  abilities = abilities.filter(\r\n    (ability) => ability[\"ability\"][\"name\"] !== \"generic_hidden\"\r\n  );\r\n\r\n  // only list normal abilities\r\n  const onlyNoramlAbilities = abilities.filter((ability) => {\r\n    return (\r\n      !ability[\"ability\"][\"stat\"][\"isGrantedByScepter\"] &&\r\n      !ability[\"ability\"][\"stat\"][\"isGrantedByShard\"]\r\n    );\r\n  });\r\n\r\n  // here get ability is graned by scepter, some ability is granted by scepter some is upgraded\r\n  const abilitiesIsGrantedByScepter = abilities.filter(\r\n    (i) =>\r\n      i[\"ability\"][\"stat\"][\"isGrantedByScepter\"] ||\r\n      i[\"ability\"][\"stat\"][\"hasScepterUpgrade\"]\r\n  )[0];\r\n\r\n  const abilitiesIsGrantedByShard = abilities.filter(\r\n    (i) =>\r\n      i[\"ability\"][\"language\"]?.shardDescription ||\r\n      i[\"ability\"][\"stat\"][\"isGrantedByShard\"]\r\n  )[0];\r\n\r\n  for (let ability of onlyNoramlAbilities) {\r\n    const heroAbilityDom = document.createElement(\"img\");\r\n    heroAbilityDom.setAttribute(\"onerror\", `this.src=\"${IMG_ONERROR}\"`);\r\n    heroAbilityDom.setAttribute(\r\n      \"src\",\r\n      `${STRATZ_ABILITIE_URL}/${ability[\"ability\"][\"name\"]}.png`\r\n    );\r\n    heroAbilityDom.setAttribute(\"data-ability\", ability[\"ability\"][\"name\"]);\r\n    // I wanna add yellow border for ultimate abilities\r\n    heroAbilityDom.classList.add(\"hero-ability\");\r\n    if (ability[\"ability\"][\"stat\"][\"isUltimate\"]) {\r\n      heroAbilityDom.classList.add(\"hero-ability-isUltimate\");\r\n    }\r\n    heroAbilitiesListNode.appendChild(heroAbilityDom);\r\n  }\r\n  // show the shard icon/scepter icon\r\n  heroScepterShardNode.setAttribute(\r\n    \"src\",\r\n    `./src/images/aghs_${!!abilitiesIsGrantedByScepter ? 1 : 0}_scepter_${\r\n      !!abilitiesIsGrantedByShard ? 1 : 0\r\n    }.png`\r\n  );\r\n}\r\n\r\n// {\r\n//   \"slot\": 1,\r\n//   \"gameVersionId\": 149,\r\n//   \"abilityId\": 5003,\r\n//   \"ability\": {\r\n//     \"id\": 5003,\r\n//     \"name\": \"antimage_mana_break\",\r\n//     \"uri\": \"antimage\",\r\n//     \"language\": {\r\n//       \"displayName\": \"Mana Break\",\r\n//       \"description\": [\r\n//         \"Burns an opponent's mana on each attack. Mana Break deals 50% of the mana burned as damage to the target. Mana Break has 50% effect if caused by illusions.\"\r\n//       ],\r\n//       \"attributes\": [\r\n//         \"MANA BURNED PER HIT: 28 / 40 / 52 / 64\",\r\n//         \"MAX MANA BURNED PER HIT: 1% / 1.8% / 2.6% / 3.4%\"\r\n//       ],\r\n//       \"lore\": \"A modified technique of the Turstarkuri monks' peaceful ways is to turn magical energies on their owner.\",\r\n//       \"aghanimDescription\": null,\r\n//       \"shardDescription\": null,\r\n//       \"notes\": []\r\n//     },\r\n//     \"stat\": {\r\n//       \"abilityId\": 5003,\r\n//       \"type\": 0,\r\n//       \"behavior\": 2,\r\n//       \"unitTargetType\": 0,\r\n//       \"unitTargetTeam\": 0,\r\n//       \"unitTargetFlags\": 0,\r\n//       \"unitDamageType\": 1,\r\n//       \"spellImmunity\": 4,\r\n//       \"modifierSupportValue\": 1,\r\n//       \"modifierSupportBonus\": 0,\r\n//       \"isOnCastbar\": true,\r\n//       \"isOnLearnbar\": true,\r\n//       \"fightRecapLevel\": 0,\r\n//       \"isGrantedByScepter\": false,\r\n//       \"hasScepterUpgrade\": false,\r\n//       \"maxLevel\": null,\r\n//       \"levelsBetweenUpgrades\": 0,\r\n//       \"requiredLevel\": 0,\r\n//       \"hotKeyOverride\": null,\r\n//       \"displayAdditionalHeroes\": false,\r\n//       \"castRange\": null,\r\n//       \"castRangeBuffer\": [\r\n//         250\r\n//       ],\r\n//       \"castPoint\": null,\r\n//       \"channelTime\": null,\r\n//       \"cooldown\": null,\r\n//       \"damage\": null,\r\n//       \"manaCost\": null,\r\n//       \"isUltimate\": false,\r\n//       \"duration\": \"\",\r\n//       \"charges\": \"\",\r\n//       \"chargeRestoreTime\": \"\",\r\n//       \"isGrantedByShard\": false,\r\n//       \"dispellable\": \"NONE\"\r\n//     },\r\n//     \"attributes\": [\r\n//       {\r\n//         \"name\": \"illusion_percentage\",\r\n//         \"value\": \"50\",\r\n//         \"linkedSpecialBonusAbilityId\": null,\r\n//         \"requiresScepter\": false\r\n//       },\r\n//       {\r\n//         \"name\": \"mana_per_hit\",\r\n//         \"value\": \"28 40 52 64\",\r\n//         \"linkedSpecialBonusAbilityId\": null,\r\n//         \"requiresScepter\": false\r\n//       },\r\n//       {\r\n//         \"name\": \"mana_per_hit_pct\",\r\n//         \"value\": \"1 1.8 2.6 3.4\",\r\n//         \"linkedSpecialBonusAbilityId\": 666,\r\n//         \"requiresScepter\": false\r\n//       },\r\n//       {\r\n//         \"name\": \"percent_damage_per_burn\",\r\n//         \"value\": \"50\",\r\n//         \"linkedSpecialBonusAbilityId\": null,\r\n//         \"requiresScepter\": false\r\n//       },\r\n//       {\r\n//         \"name\": \"silence_chance\",\r\n//         \"value\": \"15\",\r\n//         \"linkedSpecialBonusAbilityId\": null,\r\n//         \"requiresScepter\": false\r\n//       },\r\n//       {\r\n//         \"name\": \"silence_duration\",\r\n//         \"value\": \"3\",\r\n//         \"linkedSpecialBonusAbilityId\": null,\r\n//         \"requiresScepter\": false\r\n//       }\r\n//     ],\r\n//     \"isTalent\": false\r\n//   }\r\n// },\r\n\r\n// \"stats\": {\r\n//   \"enabled\": true,\r\n//   \"heroUnlockOrder\": 1,\r\n//   \"team\": true,\r\n//   \"cMEnabled\": true,\r\n//   \"newPlayerEnabled\": true,\r\n//   \"attackType\": \"Melee\",\r\n//   \"startingArmor\": 4,\r\n//   \"startingMagicArmor\": 25,\r\n//   \"startingDamageMin\": 53,\r\n//   \"startingDamageMax\": 57,\r\n//   \"attackRate\": 1.399999976158142,\r\n//   \"attackAnimationPoint\": 0.30000001192092896,\r\n//   \"attackAcquisitionRange\": 600,\r\n//   \"attackRange\": 150,\r\n//   \"primaryAttribute\": \"agi\",\r\n//   \"strengthBase\": 23,\r\n//   \"strengthGain\": 1.600000023841858,\r\n//   \"intelligenceBase\": 12,\r\n//   \"intelligenceGain\": 1.7999999523162842,\r\n//   \"agilityBase\": 24,\r\n//   \"agilityGain\": 2.799999952316284,\r\n//   \"mpRegen\": 0,\r\n//   \"moveSpeed\": 310,\r\n//   \"moveTurnRate\": 0.6000000238418579,\r\n//   \"hpBarOffset\": 0,\r\n//   \"visionDaytimeRange\": 1800,\r\n//   \"visionNighttimeRange\": 800,\r\n//   \"complexity\": 1\r\n// }\r\n\r\nfunction setHeroTalents(talents, abilitiesData) {\r\n  heroTalentTooltipNode.innerHTML = \"<span class='talent-bg-img'></span>\";\r\n  // talents\r\n  talents = talents.reverse();\r\n  for (let talent of talents) {\r\n    const heroTalentsDom = document.createElement(\"span\");\r\n    heroTalentTooltipNode.appendChild(heroTalentsDom);\r\n    const heroTalentData = abilitiesData.find(\r\n      (ability) => ability[\"id\"] === talent[\"abilityId\"]\r\n    );\r\n    heroTalentsDom.innerHTML =\r\n      heroTalentData[\"language\"]?.displayName ?? \"loading\";\r\n    heroTalentsDom.classList = [`talent-rows item${talent[\"slot\"]}`];\r\n  }\r\n}\r\n\r\n// TODO: hover the talent note\r\nheroTalentNode.addEventListener(\"mouseover\", (e) => {\r\n  // after show the tooltip, we need position above the talent icon\r\n  const heroTalent = e.target;\r\n\r\n  dynamicModalPostion(heroTalent, \"talent-tooltip\", \"flex\");\r\n  // const heroCard = e[\"path\"].filter((i) => i[\"className\"] === \"hero-card\")[0];\r\n  // const heroAbilitiesTalent = e[\"path\"].filter(\r\n  //   (i) => i[\"className\"] === \"hero-abilities-talent\"\r\n  // )[0];\r\n\r\n  // heroTalentTooltipNode.style.display = \"flex\";\r\n\r\n  // const tooltipHeight = heroTalentTooltipNode.offsetHeight;\r\n  // const tooltipWidth = heroTalentTooltipNode.offsetWidth;\r\n\r\n  // const tooltipX =\r\n  //   heroCard[\"offsetLeft\"] +\r\n  //   heroTalent[\"offsetLeft\"] +\r\n  //   heroTalent[\"width\"] / 2 -\r\n  //   tooltipWidth / 2 +\r\n  //   heroAbilitiesTalent[\"offsetLeft\"] +\r\n  //   \"px\";\r\n\r\n  // const tooltipY =\r\n  //   heroCard[\"offsetTop\"] +\r\n  //   heroTalent[\"offsetTop\"] -\r\n  //   tooltipHeight +\r\n  //   heroAbilitiesTalent[\"offsetTop\"] +\r\n  //   \"px\";\r\n  // heroTalentTooltipNode.style.left = tooltipX;\r\n  // heroTalentTooltipNode.style.top = tooltipY;\r\n});\r\n\r\nheroTalentNode.addEventListener(\"mouseout\", (e) => {\r\n  heroTalentTooltipNode.style.display = \"none\";\r\n});\r\n\r\n// ability tooltip\r\nfunction setHeroAbilityHover(abilities) {\r\n  const heroAbilitiesList =\r\n    heroCardFrontNode.getElementsByClassName(\"hero-ability\");\r\n  for (let i of heroAbilitiesList) {\r\n    i.addEventListener(\"mouseover\", (e) => {\r\n      const heroAbility = e.target;\r\n\r\n      heroAbilityTooltipNode.innerHTML = abilityTooltipTem(\r\n        heroAbility.getAttribute(\"data-ability\"),\r\n        abilities\r\n      );\r\n\r\n      dynamicModalPostion(heroAbility, \"ability-tooltip\");\r\n\r\n      // similar with talent tooltip position\r\n      // const heroCard = e[\"path\"].filter(\r\n      //   (p) => p[\"className\"] === \"hero-card\"\r\n      // )[0];\r\n      // const heroAbilitiesTalent = e[\"path\"].filter(\r\n      //   (p) => p[\"className\"] === \"hero-abilities-talent\"\r\n      // )[0];\r\n\r\n      // heroAbilityTooltipNode.style.display = \"block\";\r\n\r\n      // const tooltipHeight = heroAbilityTooltipNode.offsetHeight;\r\n      // const tooltipWidth = heroAbilityTooltipNode.offsetWidth;\r\n\r\n      // let tooltipX, tooltipY;\r\n\r\n      // // if modal height is exceed the top edge, we should move the modal right display\r\n      // if (\r\n      //   tooltipHeight >\r\n      //   heroCard[\"offsetTop\"] + heroAbility[\"offsetTop\"] - 20\r\n      // ) {\r\n      //   tooltipX =\r\n      //     heroCard[\"offsetLeft\"] +\r\n      //     heroAbility[\"offsetLeft\"] +\r\n      //     heroAbility[\"width\"] +\r\n      //     heroAbilitiesTalent[\"offsetLeft\"] +\r\n      //     \"px\";\r\n      //   tooltipY =\r\n      //     heroCard[\"offsetTop\"] +\r\n      //     heroAbility[\"offsetTop\"] +\r\n      //     heroAbility[\"height\"] -\r\n      //     tooltipHeight / 2 +\r\n      //     \"px\";\r\n      // } else {\r\n      //   tooltipX =\r\n      //     heroCard[\"offsetLeft\"] +\r\n      //     heroAbility[\"offsetLeft\"] +\r\n      //     heroAbility[\"width\"] / 2 -\r\n      //     tooltipWidth / 2 +\r\n      //     heroAbilitiesTalent[\"offsetLeft\"] +\r\n      //     \"px\";\r\n      //   tooltipY =\r\n      //     heroCard[\"offsetTop\"] +\r\n      //     heroAbility[\"offsetTop\"] -\r\n      //     tooltipHeight +\r\n      //     heroAbilitiesTalent[\"offsetTop\"] +\r\n      //     \"px\";\r\n      // }\r\n\r\n      // heroAbilityTooltipNode.style.left = tooltipX;\r\n      // heroAbilityTooltipNode.style.top = tooltipY;\r\n\r\n      i.addEventListener(\"mouseout\", (e) => {\r\n        heroAbilityTooltipNode.style.display = \"none\";\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n// hover on the ability node\r\n// abilities tooltip content template\r\nconst abilityTooltipTem = (abilityName, abilities) => {\r\n  const ability = abilities.find(\r\n    (ability) => ability[\"ability\"][\"name\"] === abilityName\r\n  );\r\n  const { name, language, attributes, stat } = ability[\"ability\"];\r\n  const {\r\n    cooldown,\r\n    manaCost,\r\n    unitDamageType,\r\n    dispellable,\r\n    unitTargetTeam,\r\n    spellImmunity,\r\n  } = stat;\r\n  const { displayName, description } = language || {};\r\n  const imgData = `${STRATZ_ABILITIE_URL}/${name}.png`;\r\n\r\n  let abilityHTML = \"\";\r\n\r\n  abilityHTML = abilityScepterShardCommonContent(\r\n    spellImmunity,\r\n    manaCost,\r\n    cooldown,\r\n    attributes,\r\n    unitDamageType,\r\n    dispellable,\r\n    unitTargetTeam,\r\n    description\r\n  );\r\n\r\n  return `\r\n    <div class=\"item-main\">\r\n      <img height=\"50px\" src='${imgData}' onerror='this.src=\"${IMG_ONERROR}\"'/>\r\n      <div class=\"item-main-right\"><h3>${displayName}</h3></div>\r\n    </div>\r\n\r\n    ${abilityHTML}\r\n    \r\n  \r\n    `;\r\n};\r\n\r\n// seem scepter and ablitiy modal have common content I will grab them in a function for reuse\r\nfunction abilityScepterShardCommonContent(\r\n  spellImmunity,\r\n  manaCost,\r\n  cooldown,\r\n  attributes,\r\n  unitDamageType,\r\n  dispellable,\r\n  unitTargetTeam,\r\n  description = \"\"\r\n) {\r\n  // mana cose\r\n  const mcData = manaCost !== null ? manaCost.join(\" / \") : \"NA\";\r\n  //cool down\r\n  const cdData = cooldown !== null ? cooldown.join(\" / \") : \"NA\";\r\n\r\n  let attribData = \"\";\r\n  if (attributes) {\r\n    for (let attr of attributes) {\r\n      const { name, value } = attr;\r\n      const nameData = name.replaceAll(\"_\", \" \").toUpperCase();\r\n      const valueData = value.replaceAll(\" \", \" / \");\r\n      attribData += `<div class=\"item-row\"><label>${nameData}:</label><span class=\"item-value\"> ${valueData} </span></div>`;\r\n    }\r\n  }\r\n\r\n  // here damage type is base on\r\n  let damTypeText;\r\n  if (unitDamageType === 1) {\r\n    damTypeText = \"red-txt\";\r\n  } else if (unitDamageType === 2) {\r\n    damTypeText = \"blue-txt\";\r\n  } else {\r\n    damTypeText = \"green-txt\";\r\n  }\r\n\r\n  const dispellableHTML =\r\n    dispellable === \"YES\"\r\n      ? `<div class=\"item-row\"><label>DISPELLABLE:</label>${dispellable}</div>`\r\n      : \"\";\r\n\r\n  const dmgTypeHTML = unitDamageType\r\n    ? `<div class=\"item-row\"><label>DAMAGE TYPE:</label><span class=\"${damTypeText}\">${formatText(\r\n        DAMAGE_TYPE[unitDamageType],\r\n        \"_\",\r\n        2\r\n      )}</span></div>`\r\n    : \"\";\r\n\r\n  const unitTargetTeamHTML = unitTargetTeam\r\n    ? `\r\n  <div class=\"item-row\"><label>DAMAGE AFFECTS: <label><span>\r\n      ${formatText(DOTA_UNIT_TARGET_TEAM[unitTargetTeam], \"_\", 4)}\r\n  </span></div>`\r\n    : \"\";\r\n\r\n  const spellImmunityText = spellImmunity !== 4 ? \"green-txt\" : \"red-txt\";\r\n  const spellImmunityHTML = spellImmunity\r\n    ? `\r\n  <div class=\"item-row\"><label>PIERCES SPELL IMMUNITY: <label><span class=\"${spellImmunityText}\">\r\n      ${SPELL_IMMUNITY_LIST[spellImmunity]}\r\n</span></div>\r\n  `\r\n    : \"\";\r\n\r\n  return `<div class=\"item-sub box\">\r\n    ${unitTargetTeamHTML}\r\n    ${dispellableHTML}\r\n    ${dmgTypeHTML}\r\n    ${spellImmunityHTML}\r\n  </div>\r\n\r\n  ${description ? `<div class=\"item-desc box\">${description[0]}</div>` : \"\"}\r\n  ${attributes ? `<div class=\"item-sub box\"> ${attribData} </div>` : \"\"}\r\n\r\n  ${\r\n    manaCost !== null && cooldown !== null\r\n      ? `\r\n    <div class=\"item-mc-cd\">\r\n      ${\r\n        manaCost !== null\r\n          ? `\r\n        <span class=\"item-mc\">\r\n          <span class=\"mana-icon\"></span>${mcData}\r\n        </span>\r\n      `\r\n          : \"\"\r\n      }\r\n      ${\r\n        cooldown !== null\r\n          ? `\r\n        <span class=\"item-cd\">\r\n          <img width=\"15px\" height=\"15px\" alt=\"cooldown\" src=\"./src/images/cooldown.png\"/>${cdData}\r\n        </span>\r\n      `\r\n          : \"\"\r\n      }\r\n    </div>\r\n    `\r\n      : \"\"\r\n  }`;\r\n}\r\n\r\n// scepter modal\r\nheroScepterShardNode.addEventListener(\"mouseover\", (e) => {\r\n  const heroScepterShard = e.target;\r\n\r\n  dynamicModalPostion(heroScepterShard, \"scepter-shard-tooltip\", \"flex\");\r\n  // const heroCard = e[\"path\"].filter((p) => p[\"className\"] === \"hero-card\")[0];\r\n  // const heroAbilitiesTalent = e[\"path\"].filter(\r\n  //   (p) => p[\"className\"] === \"hero-abilities-talent\"\r\n  // )[0];\r\n\r\n  // heroScepterShardTooltipNode.style.display = \"flex\";\r\n\r\n  // const tooltipHeight = heroScepterShardTooltipNode.offsetHeight;\r\n  // const tooltipWidth = heroScepterShardTooltipNode.offsetWidth;\r\n\r\n  // const tooltipX =\r\n  //   heroCard[\"offsetLeft\"] +\r\n  //   heroScepterShard[\"offsetLeft\"] +\r\n  //   heroScepterShard[\"width\"] +\r\n  //   heroAbilitiesTalent[\"offsetLeft\"] +\r\n  //   \"px\";\r\n\r\n  // const tooltipY =\r\n  //   heroCard[\"offsetTop\"] +\r\n  //   heroScepterShard[\"offsetTop\"] +\r\n  //   heroScepterShard[\"height\"] / 2 -\r\n  //   tooltipHeight / 2 +\r\n  //   \"px\";\r\n\r\n  // heroScepterShardTooltipNode.style.left = tooltipX;\r\n  // heroScepterShardTooltipNode.style.top = tooltipY;\r\n});\r\nheroScepterShardNode.addEventListener(\"mouseout\", (e) => {\r\n  heroScepterShardTooltipNode.style.display = \"none\";\r\n});\r\n\r\n// scepter data\r\nfunction setHeroScepterShard(abilities) {\r\n  heroScepterShardTooltipNode.innerHTML = \"\";\r\n  // here get ability is graned by scepter, some ability is granted by scepter some is upgraded\r\n  const abilitiesIsGrantedByScepter = abilities.filter(\r\n    (i) =>\r\n      i[\"ability\"][\"stat\"][\"isGrantedByScepter\"] ||\r\n      (i[\"ability\"][\"stat\"][\"hasScepterUpgrade\"] &&\r\n        (i[\"ability\"][\"language\"]?.aghanimDescription ||\r\n          i[\"ability\"][\"language\"]?.description[0]))\r\n  )[0];\r\n\r\n  const abilitiesIsGrantedByShard = abilities.filter(\r\n    (i) =>\r\n      i[\"ability\"][\"stat\"][\"isGrantedByShard\"] ||\r\n      i[\"ability\"][\"language\"]?.shardDescription\r\n  )[0];\r\n\r\n  return (heroScepterShardTooltipNode.innerHTML = `\r\n    ${scepterShardTooltipTem(abilitiesIsGrantedByScepter, \"scepter\")}\r\n    <div class=\"divided\"></div>\r\n    ${scepterShardTooltipTem(abilitiesIsGrantedByShard, \"shard\")}\r\n  `);\r\n}\r\n\r\nconst scepterShardTooltipTem = (ability, isScepterOrShard) => {\r\n  // if no ability, show no data but some UI\r\n  if (!ability) {\r\n    return `\r\n      <div class=\"${isScepterOrShard} scepter-shard-row\">\r\n        <div class=\"item-main\">\r\n          <img src=\"./src/images/${isScepterOrShard}_0.png\" alt=\"${isScepterOrShard} img\" />\r\n          <div class=\"item-main-right\">\r\n            <h3>Aghanim's ${isScepterOrShard}</h3>\r\n          </div>\r\n        </div>\r\n        <div class=\"no-detail\">Current the hero does not have Aghanim</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  const { stat, language, name, attributes } = ability[\"ability\"];\r\n  const {\r\n    hasScepterUpgrade,\r\n    isGrantedByShard,\r\n    cooldown,\r\n    manaCost,\r\n    unitDamageType,\r\n    dispellable,\r\n    spellImmunity,\r\n    unitTargetTeam,\r\n  } = stat;\r\n  const { aghanimDescription, description, displayName, shardDescription } =\r\n    language || {};\r\n  const imgData = `${STRATZ_ABILITIE_URL}/${name}.png`;\r\n\r\n  let isScepterUpgradeHTML;\r\n  let upgradeOrNewText = \"UPGRADE\";\r\n  let abilityHTML;\r\n  // for scepter and shared, some abilities is granted some is upgraded\r\n  if (isScepterOrShard === \"scepter\") {\r\n    isScepterUpgradeHTML =\r\n      hasScepterUpgrade && aghanimDescription\r\n        ? aghanimDescription\r\n        : description;\r\n    upgradeOrNewText =\r\n      hasScepterUpgrade && aghanimDescription ? \"UPGRADE\" : \"NEW\";\r\n  }\r\n  if (isScepterOrShard === \"shard\") {\r\n    upgradeOrNewText = isGrantedByShard ? \"NEW\" : \"UPGRADE\";\r\n  }\r\n  // if new, we will show common content like ability, if it's upgrade, we some simple data\r\n  if (upgradeOrNewText === \"NEW\") {\r\n    abilityHTML = abilityScepterShardCommonContent(\r\n      spellImmunity,\r\n      manaCost,\r\n      cooldown,\r\n      attributes,\r\n      unitDamageType,\r\n      dispellable,\r\n      unitTargetTeam\r\n    );\r\n  }\r\n\r\n  return `\r\n      <div class=\"${isScepterOrShard} scepter-shard-row\">\r\n        <div class=\"item-main\">\r\n          <img src=\"../images/${isScepterOrShard}_1.png\" alt=\"${isScepterOrShard} img\" />\r\n          <div class=\"item-main-right\">\r\n            <h3>Aghanim's ${isScepterOrShard}</h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"item-detail\">\r\n          <img class=\"ability-img\" src=\"${imgData}\" />\r\n          <div class=\"item-detail-right\">\r\n            <h3>${displayName} <span>${upgradeOrNewText}</span></h3>\r\n            <p>${\r\n              isScepterOrShard === \"scepter\"\r\n                ? isScepterUpgradeHTML\r\n                : shardDescription\r\n            }</p>\r\n            ${abilityHTML}\r\n          </div>\r\n        </div>\r\n    </div>\r\n    `;\r\n};\r\n\r\nconst pushEl = (t) => {\r\n  const {\r\n    className,\r\n    offsetTop,\r\n    offsetLeft,\r\n    offsetHeight,\r\n    offsetWidth,\r\n    width,\r\n    height,\r\n  } = t;\r\n  return {\r\n    className,\r\n    offsetTop,\r\n    offsetLeft,\r\n    offsetHeight,\r\n    offsetWidth,\r\n    width,\r\n    height,\r\n  };\r\n};\r\n\r\nfunction dynamicModalPostion(\r\n  target,\r\n  modalNodeClas,\r\n  modalNodeDisplayValue = \"block\"\r\n) {\r\n  let t = target,\r\n    i = 0,\r\n    arr = [];\r\n  const mouseTargetWidth = target[\"offsetWidth\"];\r\n  const mouseTargetHeight = target[\"offsetHeight\"];\r\n  const windowScrollY = window.scrollY;\r\n  const windowScrollX = window.scrollX;\r\n  arr.push(pushEl(t));\r\n  do {\r\n    t = t.offsetParent;\r\n    i++;\r\n    arr.push(pushEl(t));\r\n  } while (t.offsetParent);\r\n\r\n  const tooltipXOffsetLeftTotal = arr.reduce(\r\n    (total, cur) => total + cur.offsetLeft,\r\n    0\r\n  );\r\n  const tooltipYOffsetTopTotal = arr.reduce(\r\n    (total, cur) => total + cur.offsetTop,\r\n    0\r\n  );\r\n\r\n  let tooltipX, tooltipY;\r\n  const modalNode = document.getElementsByClassName(modalNodeClas)[0];\r\n  modalNode.style.display = modalNodeDisplayValue;\r\n  const tooltipHeight = modalNode.offsetHeight;\r\n  const tooltipWidth = modalNode.offsetWidth;\r\n\r\n  // top\r\n  if (tooltipYOffsetTopTotal - windowScrollY >= tooltipHeight) {\r\n    tooltipY = tooltipYOffsetTopTotal - tooltipHeight + \"px\";\r\n\r\n    // top  center----\r\n    if (tooltipXOffsetLeftTotal - windowScrollX >= tooltipWidth / 2) {\r\n      tooltipX =\r\n        tooltipXOffsetLeftTotal +\r\n        mouseTargetWidth / 2 -\r\n        tooltipWidth / 2 +\r\n        \"px\";\r\n    }\r\n    // top left -----\r\n    if (tooltipXOffsetLeftTotal - windowScrollX < tooltipWidth / 2) {\r\n      tooltipX = tooltipXOffsetLeftTotal + \"px\";\r\n    }\r\n    // top right ---\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) <\r\n      tooltipWidth / 2\r\n    ) {\r\n      tooltipX =\r\n        tooltipXOffsetLeftTotal + mouseTargetHeight - tooltipWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  // top edge\r\n  if (tooltipYOffsetTopTotal - windowScrollY < tooltipHeight / 2) {\r\n    tooltipY = tooltipYOffsetTopTotal + \"px\";\r\n    // top edge left\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) >=\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal + mouseTargetWidth + \"px\";\r\n    }\r\n    // top edget right\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) <\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal - tooltipWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  // vertical\r\n  if (\r\n    tooltipYOffsetTopTotal - windowScrollY < tooltipHeight &&\r\n    tooltipYOffsetTopTotal - windowScrollY >= tooltipHeight / 2\r\n  ) {\r\n    tooltipY =\r\n      tooltipYOffsetTopTotal + mouseTargetHeight / 2 - tooltipHeight / 2 + \"px\";\r\n\r\n    // vertical right\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) >=\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal + mouseTargetWidth + \"px\";\r\n    }\r\n\r\n    // vertical left\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) <\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal - tooltipWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  // bottom edge\r\n  if (\r\n    window.innerHeight -\r\n      (tooltipYOffsetTopTotal - windowScrollY + mouseTargetHeight) <\r\n    tooltipHeight / 2\r\n  ) {\r\n    tooltipY =\r\n      tooltipYOffsetTopTotal + mouseTargetHeight - tooltipHeight + \"px\";\r\n\r\n    // bottom edge right\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) >=\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal + mouseTargetWidth + \"px\";\r\n    }\r\n\r\n    // bottom edge left\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) <\r\n      tooltipWidth\r\n    ) {\r\n      tooltipX = tooltipXOffsetLeftTotal - tooltipWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  // bottom\r\n  if (tooltipYOffsetTopTotal - windowScrollY < 0) {\r\n    tooltipY = tooltipYOffsetTopTotal + mouseTargetHeight + \"px\";\r\n\r\n    // top  center----\r\n    if (tooltipXOffsetLeftTotal - windowScrollX >= tooltipWidth / 2) {\r\n      tooltipX =\r\n        tooltipXOffsetLeftTotal +\r\n        mouseTargetWidth / 2 -\r\n        tooltipWidth / 2 +\r\n        \"px\";\r\n    }\r\n    // top left -----\r\n    if (tooltipXOffsetLeftTotal - windowScrollX < tooltipWidth / 2) {\r\n      tooltipX = tooltipXOffsetLeftTotal + \"px\";\r\n    }\r\n    // top right ---\r\n    if (\r\n      window.innerWidth -\r\n        (tooltipXOffsetLeftTotal - windowScrollX + mouseTargetWidth) <\r\n      tooltipWidth / 2\r\n    ) {\r\n      tooltipX =\r\n        tooltipXOffsetLeftTotal + mouseTargetHeight - tooltipWidth + \"px\";\r\n    }\r\n  }\r\n\r\n  modalNode.style.left = tooltipX;\r\n  modalNode.style.top = tooltipY;\r\n\r\n  console.log(windowScrollY);\r\n  // console.table(arr)\r\n  // console.log(tooltipYOffsetTopTotal - windowScrollY)\r\n}\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}